{% extends "base.html" %}
{% block content %}
<div class="container mt-4">
    <h3>Student Profile</h3>

    <div class="row mt-4">

        <div class="col-md-4 text-center">
            {% if user.photo %}
            <img src="{{ url_for('static', filename='profile_images/' + user.photo) }}" width="180"
                class="img-fluid rounded-circle">
            {% else %}
            <img src="https://via.placeholder.com/150" width="180" class="img-fluid rounded-circle">
            {% endif %}

            <form method="POST" action="{{ url_for('upload_photo') }}" enctype="multipart/form-data" class="mt-3">
                <input type="file" name="photo" class="form-control mb-2" required>
                <button class="btn btn-primary w-100">Upload Photo</button>
            </form>
        </div>

        <div class="col-md-8">
            <table class="table table-bordered">
                <tr>
                    <th>Name</th>
                    <td>{{ user.name }}</td>
                </tr>
                <tr>
                    <th>Email</th>
                    <td>{{ user.email }}</td>
                </tr>
                <tr>
                    <th>Roll No</th>
                    <td>{{ user.roll_no }}</td>
                </tr>
                <tr>
                    <th>Registration No</th>
                    <td>{{ user.registration_no }}</td>
                </tr>

                <tr>
                    <th>Department</th>
                    <td>{{ user.department }}</td>
                </tr>
                <tr>
                    <th>Parent Phone</th>
                    <td>{{ user.parent_phone }}</td>
                </tr>
                <tr>
                    <th>Parent Email</th>
                    <td>{{ user.parent_email }}</td>
                </tr>
            </table>
        </div>

    </div>
</div>
{% endblock %}